<?phprequire_once('models/model.php');class C_Page extends C_Base{	private $model;	public function __construct()	{		$this->model = Model::getInstance();	}	public function actionIndex() {		$this->title .= 'Главная';		$result = $this->model->getAllFromTable('blog');		$this->content = $this->Template('views/index.php', array('result' => $result));	}		public function actionEdit() {		$this->title .= 'Редактирование статьи';		if (isset($_GET['id'])) {			$id = htmlspecialchars($_GET['id']);			if (isset($_POST['submitArticle'])) {				$this->model->updateRow($_POST, $id);			}			if (!empty($id)) {				$article = $this->model->getOneRow($id);			}		}		$this->content = $this->Template('views/edit.php', ['article' => $article]);	}	public function actionNew() {		$this->title = 'Новая статья';		if (isset($_POST['submitAdd'])) {			$this->model->addRow($_POST, 'blog');		}		$this->content = $this->Template('views/new.php');	}	public function actionEditor() {		$this->title = 'Консоль администратора';		$articles = $this->model->getAllFromTable('blog');		$this->content = $this->Template('views/editor.php', ['articles' => $articles]);	}	public function actionDel() {		$articles = $this->model->deleteRow($_GET['id']);		$this->actionEditor();	}	public function actionArticle() {		if (isset($_GET['id'])) {			$id = htmlspecialchars($_GET['id']);			if (!empty($id)) {				$article = $this->model->getOneRow($id);				$comments = $this->model->getAllFromTableByFID('comments', ['blog_id' => $id]);			}		}		$this->title = 'Детальная страница статьи';		$this->content = $this->Template('views/article.php', ['article' => $article, 'comments' => $comments]);	}	public function actionComment() {		if (isset($_POST['submitAdd'])) {			$this->model->addRow([				'author' => $_POST['author'],				'blog_id' => $_GET['id'],				'text' => $_POST['text'],			], 'comments');		}		$this->actionArticle();	}}